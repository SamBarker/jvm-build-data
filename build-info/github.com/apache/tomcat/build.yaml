---
enforceVersion: true
additionalArgs:
  - "package-src-jar embed-jars embed-sources"
postBuildScript: |
    sed -i -e "s|@MAVEN\.DEPLOY\.VERSION@|$(params.ENFORCE_VERSION)|g;" res/maven/*.pom
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-annotations-api.pom -Dfile=output/build/lib/annotations-api.jar -Dfiles=output/src-jars/annotations-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-api.pom -Dfile=output/build/lib/tomcat-api.jar -Dfiles=output/src-jars/tomcat-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-catalina-ant.pom -Dfile=output/build/lib/catalina-ant.jar -Dfiles=output/src-jars/catalina-ant-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-catalina-ha.pom -Dfile=output/build/lib/catalina-ha.jar -Dfiles=output/src-jars/catalina-ha-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-catalina.pom -Dfile=output/build/lib/catalina.jar -Dfiles=output/src-jars/catalina-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-coyote.pom -Dfile=output/build/lib/tomcat-coyote.jar -Dfiles=output/src-jars/tomcat-coyote-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-dbcp.pom -Dfile=output/build/lib/tomcat-dbcp.jar -Dfiles=output/src-jars/tomcat-dbcp-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-el-api.pom -Dfile=output/build/lib/el-api.jar -Dfiles=output/src-jars/el-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-embed-core.pom -Dfile=output/embed/tomcat-embed-core.jar -Dfiles=output/embed-src-jars/tomcat-embed-core-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-embed-el.pom -Dfile=output/embed/tomcat-embed-el.jar -Dfiles=output/embed-src-jars/tomcat-embed-el-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-embed-jasper.pom -Dfile=output/embed/tomcat-embed-jasper.jar -Dfiles=output/embed-src-jars/tomcat-embed-jasper-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-embed-programmatic.pom -Dfile=output/embed/tomcat-embed-programmatic.jar -Dfiles=output/embed-src-jars/tomcat-embed-programmatic-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-embed-websocket.pom -Dfile=output/embed/tomcat-embed-websocket.jar -Dfiles=output/embed-src-jars/tomcat-embed-websocket-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-cs.pom -Dfile=output/build/lib/tomcat-i18n-cs.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-de.pom -Dfile=output/build/lib/tomcat-i18n-de.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-es.pom -Dfile=output/build/lib/tomcat-i18n-es.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-fr.pom -Dfile=output/build/lib/tomcat-i18n-fr.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-ja.pom -Dfile=output/build/lib/tomcat-i18n-ja.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-ko.pom -Dfile=output/build/lib/tomcat-i18n-ko.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-pt-BR.pom -Dfile=output/build/lib/tomcat-i18n-pt-BR.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-ru.pom -Dfile=output/build/lib/tomcat-i18n-ru.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-i18n-zh-CN.pom -Dfile=output/build/lib/tomcat-i18n-zh-CN.jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-jasper-el.pom -Dfile=output/build/lib/jasper-el.jar -Dfiles=output/src-jars/jasper-el-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-jasper.pom -Dfile=output/build/lib/jasper.jar -Dfiles=output/src-jars/jasper-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-jaspic-api.pom -Dfile=output/build/lib/jaspic-api.jar -Dfiles=output/src-jars/jaspic-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-jdbc.pom -Dfile=output/build/lib/tomcat-jdbc.jar -Dfiles=output/src-jars/tomcat-jdbc-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-jni.pom -Dfile=output/build/lib/tomcat-jni.jar -Dfiles=output/src-jars/tomcat-jni-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-jsp-api.pom -Dfile=output/build/lib/jsp-api.jar -Dfiles=output/src-jars/jsp-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-juli.pom -Dfile=output/build/bin/tomcat-juli.jar -Dfiles=output/src-jars/tomcat-juli-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-servlet-api.pom -Dfile=output/build/lib/servlet-api.jar -Dfiles=output/src-jars/servlet-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-ssi.pom -Dfile=output/build/lib/catalina-ssi.jar -Dfiles=output/src-jars/catalina-ssi-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-storeconfig.pom -Dfile=output/build/lib/catalina-storeconfig.jar -Dfiles=output/src-jars/catalina-storeconfig-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-tribes.pom -Dfile=output/build/lib/catalina-tribes.jar -Dfiles=output/src-jars/catalina-tribes-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-util-scan.pom -Dfile=output/build/lib/tomcat-util-scan.jar -Dfiles=output/src-jars/tomcat-util-scan-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-util.pom -Dfile=output/build/lib/tomcat-util.jar -Dfiles=output/src-jars/tomcat-util-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-websocket-api.pom -Dfile=output/build/lib/websocket-api.jar -Dfiles=output/src-jars/websocket-api-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat-websocket.pom -Dfile=output/build/lib/tomcat-websocket.jar -Dfiles=output/src-jars/tomcat-websocket-src.jar -Dclassifiers=sources -Dtypes=jar
    mvn -B -e -s "$(workspaces.build-settings.path)/settings.xml" org.apache.maven.plugins:maven-deploy-plugin:3.1.1:deploy-file "-Durl=file:$(workspaces.source.path)/artifacts" -DpomFile=res/maven/tomcat.pom
